From 7fcccf8b2b8247b7e8fad1a225029bded9e483e7 Mon Sep 17 00:00:00 2001
From: yingzhex <yingzhenx.li@intel.com>
Date: Mon, 20 Jan 2020 10:29:19 +0800
Subject: [PATCH] [PATCH] Intercept TouchEvent since apps disable it

Change-Id: Ia4726304b929e1811c33ce5336eaa54f131e32d0
Tracked-On: OAM-89034
Signed-off-by: yingzhex <yingzhenx.li@intel.com>
---
 .../android/systemui/statusbar/phone/NavigationBarView.java    | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/packages/SystemUI/src/com/android/systemui/statusbar/phone/NavigationBarView.java b/packages/SystemUI/src/com/android/systemui/statusbar/phone/NavigationBarView.java
index a86b7356755..2640d62c952 100644
--- a/packages/SystemUI/src/com/android/systemui/statusbar/phone/NavigationBarView.java
+++ b/packages/SystemUI/src/com/android/systemui/statusbar/phone/NavigationBarView.java
@@ -329,6 +329,9 @@ public class NavigationBarView extends FrameLayout implements PluginListener<Nav
 
     @Override
     public boolean onInterceptTouchEvent(MotionEvent event) {
+        if(SystemProperties.getBoolean("sys.disable.nav.touch", false)) {
+            return true;
+        }
         if (shouldDeadZoneConsumeTouchEvents(event)) {
             return true;
         }
-- 
2.17.1

